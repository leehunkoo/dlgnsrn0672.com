<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>준비중 입니다..coming soon</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            overflow-x: hidden; /* 수평 스크롤 방지 */
        }

        main {
            padding: 20px;
        }

        .fade-section {
            display: flex; /* flexbox 레이아웃 사용 */
            justify-content: center;
            align-items: center;
            flex-direction: column;
            opacity: 0; 
            transform: translateY(30px); 
            transition: opacity 1.0s ease, transform 1.0s ease; 
            padding: 20px; 
            box-sizing: border-box; 
            min-height: 100vh; /* 최소 높이를 100vh로 설정 */
        }

        .fade-section img {
            width: 100%; /* 너비를 100%로 설정하여 부모 섹션에 맞춤 */
            height: auto; /* 비율에 맞게 높이 자동 조정 */
            object-fit: contain; /* 이미지 비율 유지 */
            max-height: 80vh; /* 최대 높이를 설정하여 섹션을 넘지 않도록 조정 */
        }

        .fade-section.visible {
            opacity: 1; 
            transform: translateY(0); 
        }

        .fade-text {
            opacity: 0; /* 초기 상태에서 투명 */
            transform: translateY(10px); /* 아래에서 올라오는 효과 */
            transition: opacity 0.5s ease, transform 0.5s ease; /* 전환 효과 */
        }

        .fade-text.visible {
            opacity: 1; /* 선명하게 나타날 때의 상태 */
            transform: translateY(0); /* 최종 위치로 이동 */
        }

        #section4 {
            background-color: lightcoral;
            display: none; /* 초기에는 숨김 */
        }

        .uniform-image {
            width: 793px; /* 너비 설정 */
            height: 1122px; /* 높이 설정 */
            object-fit: cover; /* 비율 유지하면서 크기 조정 */
        }

        .large-image {
            width: 100%; /* 너비를 100%로 설정하여 부모 섹션에 맞춤 */
            height: auto; /* 비율에 맞게 높이 자동 조정 */
            object-fit: contain; /* 비율 유지 */
            max-height: 80vh; /* 최대 높이를 설정하여 섹션을 넘지 않도록 조정 */
        }

        /* 첫 번째와 두 번째 섹션 간격만 줄임 */
        #section1 {
            margin-bottom: -125px; /* 첫 번째 섹션과 두 번째 섹션 간격을 줄임 */
        }
        
        #section2 {
            margin-top: -125px; /* 첫 번째 섹션과 두 번째 섹션 간격을 줄임 */
        }

        #section3 { background-color: lightgreen; }
        #section5 { background-color: lightblue; }
        #section6 { background-color: hsla(9, 80%, 50%, 0.5); }

        @media (max-width: 600px) {
            .fade-section h2 { font-size: 1.5em; }
            .fade-section p { font-size: 1em; }
        }
    </style>
</head>
<body>
    <main>
        <section class="fade-section" id="section1">
            <img src="메인시안 애니메이션.gif" alt="GIF 이미지" style="max-width: 100%; height: auto; margin-top: 20px;">
        </section>
        <section class="fade-section" id="section2">
            <img src="행사일정.gif" alt="GIF 이미지" class="large-image">
        </section>
        <section class="fade-section" id="section3">
            <h2 class="fade-text">세 번째 섹션</h2>
            <p class="fade-text">찾아오는 길 JPG를 넣을것, 내용포함.</p>
            <button id="viewButton">VIEW</button>
        </section>
        <section class="fade-section" id="section4">
            <h2 class="fade-text">네 번째 섹션</h2>
            <p class="fade-text">섹션 3번에 VIEW 버튼을 누르면 4번째 섹션이 보이게 할 것.</p>
            <button id="resetButton" style="display: none;">원래대로</button>
        </section>
        <section class="fade-section" id="section5">
            <h2 class="fade-text">다섯 번째 섹션</h2>
            <p class="fade-text">이곳은 다섯 번째 섹션입니다.</p>
        </section>
        <section class="fade-section" id="section6">
            <h2 class="fade-text">여섯 번째 섹션</h2>
            <p class="fade-text">이곳은 여섯 번째 섹션입니다.</p>
        </section>
    </main>
    <script>
        const sections = document.querySelectorAll('.fade-section');

        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                const ratio = entry.intersectionRatio;

                if (ratio > 0) {
                    entry.target.style.opacity = ratio; // 스크롤 위치에 따라 섹션 투명도 조절
                    entry.target.style.transform = `translateY(${(1 - ratio) * 30}px)`; // 스크롤에 따라 위로 이동
                    
                    // 텍스트 애니메이션
                    const texts = entry.target.querySelectorAll('.fade-text');
                    texts.forEach(text => {
                        text.classList.add('visible'); // 텍스트가 보일 때 서서히 나타남
                    });
                } else {
                    // 텍스트 애니메이션 초기화
                    const texts = entry.target.querySelectorAll('.fade-text');
                    texts.forEach(text => {
                        text.classList.remove('visible'); // 텍스트가 보이지 않을 때 투명
                    });
                }
            });
        }, {
            threshold: Array.from({ length: 101 }, (_, i) => i / 100) // 0부터 1까지의 101개의 임계값
        });

        sections.forEach(section => {
            observer.observe(section);
        });

        document.getElementById('viewButton').addEventListener('click', function() {
            const section4 = document.getElementById('section4');
            section4.style.display = 'flex'; // 4번째 섹션을 보이게 함
            
            // 스크롤을 부드럽게
            window.scrollTo({
                top: section4.offsetTop,
                behavior: 'smooth'
            });

            // "원래대로" 버튼 보이기
            document.getElementById('resetButton').style.display = 'block';
        });

        document.getElementById('resetButton').addEventListener('click', function() {
            const section4 = document.getElementById('section4');
            section4.style.display = 'none'; // 4번째 섹션을 숨김
            
            // "원래대로" 버튼 숨기기
            this.style.display = 'none';
        });
    </script>
</body>
</html>
